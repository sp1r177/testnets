# üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Frontend —Å –≤–∞—à–∏–º Express Backend

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∞ –ø–∞–ø–∫–∞ `public/` —Å–æ–¥–µ—Ä–∂–∏—Ç:
```
public/
‚îú‚îÄ‚îÄ index.html      # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ WebApp
‚îú‚îÄ‚îÄ style.css       # –°—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
‚îú‚îÄ‚îÄ app.js          # –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ integration-guide.md  # –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Express —Å–µ—Ä–≤–µ—Ä–∞

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞ (–æ–±—ã—á–Ω–æ `app.js` –∏–ª–∏ `server.js`):

```javascript
const express = require('express');
const path = require('path');
const app = express();

// Middleware –¥–ª—è JSON
app.use(express.json());

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ public
app.use(express.static(path.join(__dirname, 'public')));

// –†–æ—É—Ç –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã WebApp
app.get('/app', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'index.html'));
});

// –í–∞—à–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ API —Ä–æ—É—Ç—ã
app.use('/api/questions', questionsRouter);
app.use('/api/answers', answersRouter); 
app.use('/api/result', resultRouter);

// –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
    console.log(`üöÄ Server running on port ${PORT}`);
    console.log(`üì± WebApp available at: http://localhost:${PORT}/app`);
});
```

## üîó –§–æ—Ä–º–∞—Ç API endpoints

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∏ API endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

### GET /api/questions
```javascript
// –û–∂–∏–¥–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:
[
    {
        "id": 1,
        "text": "–ö–∞–∫–æ–π –≤–∞—à –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç?", // –∏–ª–∏ "question"
        "answers": [ // –∏–ª–∏ "options"
            { "text": "–ö—Ä–∞—Å–Ω—ã–π", "value": "red" },
            { "text": "–°–∏–Ω–∏–π", "value": "blue" },
            { "text": "–ó–µ–ª—ë–Ω—ã–π", "value": "green" }
        ]
    },
    // ... –±–æ–ª—å—à–µ –≤–æ–ø—Ä–æ—Å–æ–≤
]

// –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (—Ç–æ–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è):
[
    {
        "question": "–ö–∞–∫–æ–π –≤–∞—à –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç?",
        "options": ["–ö—Ä–∞—Å–Ω—ã–π", "–°–∏–Ω–∏–π", "–ó–µ–ª—ë–Ω—ã–π"]
    }
]
```

### POST /api/answers
```javascript
// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:
{
    "answers": ["red", "blue", "green", ...] // –º–∞—Å—Å–∏–≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
}

// –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
{
    "success": true,
    "message": "–û—Ç–≤–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã"
}
```

### POST /api/result/generate
```javascript
// –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (–ª—é–±–æ–π –∏–∑ —Ñ–æ—Ä–º–∞—Ç–æ–≤):
{
    "result": "–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≤—ã —Ç–≤–æ—Ä—á–µ—Å–∫–∞—è –ª–∏—á–Ω–æ—Å—Ç—å!"
}
// –∏–ª–∏
{
    "text": "–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≤—ã —Ç–≤–æ—Ä—á–µ—Å–∫–∞—è –ª–∏—á–Ω–æ—Å—Ç—å!"
}
// –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∞:
"–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≤—ã —Ç–≤–æ—Ä—á–µ—Å–∫–∞—è –ª–∏—á–Ω–æ—Å—Ç—å!"
```

## üì± Telegram WebApp –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

–í –≤–∞—à–µ–º Telegram –±–æ—Ç–µ –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è WebApp:

```javascript
const { Telegraf } = require('telegraf');
const bot = new Telegraf(process.env.BOT_TOKEN);

bot.command('start', (ctx) => {
    ctx.reply('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ü—Ä–æ–π–¥–∏—Ç–µ —Ç–µ—Å—Ç:', {
        reply_markup: {
            inline_keyboard: [[
                {
                    text: 'üîç –ù–∞—á–∞—Ç—å —Ä–∞–∑–±–æ—Ä',
                    web_app: { url: 'https://your-domain.com/app' }
                }
            ]]
        }
    });
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç WebApp
bot.on('web_app_data', (ctx) => {
    const data = JSON.parse(ctx.message.web_app_data.data);
    console.log('–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –æ—Ç WebApp:', data);
    
    ctx.reply(`‚úÖ –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω! –í–æ–ø—Ä–æ—Å–æ–≤: ${data.questionsCount}`);
});
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WebApp URL

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather):
1. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –±–æ—Ç
2. Bot Settings ‚Üí Web App
3. –£–∫–∞–∂–∏—Ç–µ URL: `https://your-domain.com/app`

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `index.html` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —Ç–µ–∫—Å—Ç–æ–≤.

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `style.css` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤ –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `app.js` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
node server.js

# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:3000/app
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [ngrok](https://ngrok.com/) –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
   ```bash
   ngrok http 3000
   ```
2. –û–±–Ω–æ–≤–∏—Ç–µ WebApp URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞ –Ω–∞ ngrok URL

## üìã Checklist

- [ ] ‚úÖ –§–∞–π–ª—ã `index.html`, `style.css`, `app.js` –≤ –ø–∞–ø–∫–µ `public/`
- [ ] ‚úÖ Express –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- [ ] ‚úÖ –†–æ—É—Ç `/app` –≤–µ–¥—ë—Ç –Ω–∞ `index.html`
- [ ] ‚úÖ API endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- [ ] ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ —Ñ—Ä–æ–Ω—Ç –∏ –±—ç–∫ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–∞—Ö)
- [ ] ‚úÖ HTTPS –≤–∫–ª—é—á—ë–Ω (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Telegram WebApp)
- [ ] ‚úÖ WebApp URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –±–æ—Ç–µ

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API
```bash
# –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à–∏ endpoints:
curl http://localhost:3000/api/questions
curl -X POST http://localhost:3000/api/answers -H "Content-Type: application/json" -d '{"answers":["test"]}'
curl -X POST http://localhost:3000/api/result/generate
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ WebApp
1. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Console –Ω–∞ –æ—à–∏–±–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤

## üöÄ Production deployment

–ù–µ –∑–∞–±—É–¥—å—Ç–µ:
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS
- –û–±–Ω–æ–≤–∏—Ç—å WebApp URL –≤ –±–æ—Ç–µ –Ω–∞ production URL
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

---

**–ì–æ—Ç–æ–≤–æ! üéâ** –í–∞—à Telegram WebApp —Ç–µ–ø–µ—Ä—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å backend.